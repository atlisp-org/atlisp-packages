#+TITLE: base 基础函数库说明
* 函数命名
  以 实体名 开头。如 block layer style .
* 函数参数说明
  
  未详细说明的参数类型均为实体ename。如使用visual lisp 需进行转换。

  如 (block:get-effectivename blk) ; 获取块的真实名称。参数 blk 为图元。
  
* 状态
** push-var

   保存CAD常用变量。将常用的变量和值入栈。

   当无参数时，保存默认的变量。当有字符串参数时，保存该参数。

#+BEGIN_SRC lisp
(defun foobar ()
  (push-var) ;; 保存默认的一些变量的状态
  (push-var "osmode" ) ;; 保存变量osmode的状态
  (setvar "osmode" 0) ;; 设置以下过程需要的变量值
  ...
  (pop-var) ;; 恢复变量 osmode 的状态
  (pop-var)) ;; 恢复默认的一些变量状态
#+END_SRC

** pop-var

   恢复保存的变量，与 push-var 成对使用。

#+BEGIN_SRC lisp
(defun foobar ()
  (push-var) ;; 保存变量状态
  ...
  (pop-var)) ;; 恢复变量状态
#+END_SRC

* format 
** 格式

   (format stream "格式化字符串" 参数 ...)

   stream : 流。为真时输出到屏幕，为nil 时返回字符串，当为 文件流时，输出内容到文件流。

   格式化字符串。

   ~A : 字符、数字或列表

   ~D : 整数

   ~F : 符点数。

   ~E : 指数

** 修饰符

   @ : 数值类型前加 + 、 - 号

   整数 : 可以是占位符，小数点位数等。


#+BEGIN_SRC lisp
(format t "~A~%" "要替换~A的字符串")
(format t "~10d~%" 5) ;; 输出整个5。5前面有10个空格
(format t "~10,3F~%" pi) ;; 输入 pi，值 3.142 ,前面有6位空格。保留3位小数。
#+END_SRC


* SI单位

| 物理量名称         | 符号    | 单位名称         | 单位符号  | 导出单位表示            | 导出单位定义                                                                                                |
| 面积               | A ( S ) | 平方米           | m²        |                         |                                                                                                             |
| 体积               | V       | 立方米           | m³        |                         |                                                                                                             |
| 速度               | v       | 米每秒           | m/s       |                         |                                                                                                             |
| 加速度             | a       | 米每秒平方       | m/s²      |                         |                                                                                                             |
| 角速度             | ω       | 弧度每秒         | rad/s     |                         |                                                                                                             |
| 频率               | f ( v ) | 赫（赫兹）       | Hz        | 1 Hz=1s⁻¹               | 周期为1秒的周期现象的频率                                                                                   |
| 密度               | ρ       | 千克每立方米     | kg/m³     |                         |                                                                                                             |
| 力                 | F       | 牛（牛顿）       | N         | 1 N=1kg·m/s²            | 使1千克质量产生1米/秒²加速度的力                                                                            |
| 力矩               | M       | 牛（牛顿）米     | N·m       |                         |                                                                                                             |
| 动量               | p       | 千克米每秒       | kg·m/s    |                         |                                                                                                             |
| 压强               | p       | 帕（帕斯卡）     | Pa        | 1 Pa=1 N/m²             | 每平方米面积上1牛的压力                                                                                     |
| 功、能（能量）     | W（A）E | 焦（焦耳）       | J         | 1 J=1 N·m               | 1牛力的作用点在力的方向上移动1米距离所做的功                                                                |
| 功率               | P       | 瓦（瓦特）       | W         | 1 W=1 J/s               | 1秒内给出1焦能量的功率                                                                                      |
| 电荷（电荷量）     | Q       | 库（库仑）       | C         | 1 C=1 A·s               | 1安电流在1秒内所运送的电量                                                                                  |
| 电场强度           | E       | 伏（伏特）每米   | V/m       |                         |                                                                                                             |
| 电位、电压、电势差 | U ( V ) | 伏（伏特）       | V         | 1 V=1 W/A ，1 V=1 N·m/C | 在流过1安恒定电流的导线内，二点之间所消耗的功率若为1瓦，则两点之间的电位差为1伏                             |
| 电容               | C       | 法（法拉）       | F         | 1 F=1 C/V               | 给电容器充1库电量时，二板极之间出现1伏的电位差，则电容器的电容为1法                                         |
| 电阻               | R       | 欧（欧姆）       | Ω         | 1 Ω=1 V/A               | 在导体两点间加上1伏的恒定电位差，若导体内产生1安的恒定电流，且导体内不存在其他电动势，则两点之间的电阻为1欧 |
| 电阻率             | ρ       | 欧（欧姆）米     | Ω·m       |                         |                                                                                                             |
| 磁感应强度         | B       | 特（特斯拉）     | T         | 1 T=1 Wb/m²             | 每平方米内磁通量为1韦的磁通密度                                                                             |
| 磁通（磁通量）     | Φ       | 韦（韦伯）       | Wb        | 1 Wb=1 V·s              | 让只有1匝的环路中的磁通量在1秒钟内均匀地减小到零，若因此在环路内产生1伏的电动势，则环路中的磁通量为1韦      |
| 电感               | L       | 亨（亨利）       | H         | 1 H= 1 Wb/A             | 让流过一个闭合回路的电流以1安/秒的速率均匀变化，则回路的电感为1亨                                           |
| 电导               |         | 西（西门子）     | S         | 1 S= 1Ω⁻¹               | 欧姆的负一次方                                                                                              |
| 光通量             |         | 流（流明）       | lm        | 1 lm=1 cd·sr            | 发光强度为1坎的均匀点光源向单位立体角（球面度内）发射出的光通量                                             |
| 光照度             |         | 勒（勒克斯）     | lx        | 1 lx=1 lm/m²            | 每平方米为1流光通量的光照度                                                                                 |
| 放射性活度         |         | 贝可（贝可勒尔） | Bq        | 1 Bq=1 s⁻¹              | 1秒内发生1次自发核转变或跃迁                                                                                |
| 吸收剂量           |         | 戈（戈瑞）       | Gy        | 1 Gy=1 J/kg             | 授予1千克受照物质以1焦能量的吸收剂量                                                                        |
| 温度               | t       | 摄氏度（华氏度） | ℃(℉)    |                         | 物体的冷热程度                                                                                              |
| 比热容             | c       | 焦每千克摄氏度   | J/(kg*℃) |                         | 物体的吸放热能力                                                                                            |
| 热值               | q       | 焦每千克         | J/kg      |                         | 燃料燃烧的放热能力                                                                                          |


注：1. 圆括号中的名称和符号，是前面的名称和符号的同义词。
2. 圆括号中的字，在不致引起混淆、误解的情况下，可省略。去掉括号中的字，即为其名称的简称。
